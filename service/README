### Transparency Chrome Extension Backend ###

### Installation ###
pip install -r requirements.txt

### Running the Service ###
python -m gunicorn -w 4 -k uvicorn.workers.UvicornWorker transparency_service.app_server:transparency_app --bind 0.0.0.0:8000

### ! Installation and Running should be done from the service directory ! ###

### Environment Variables ###
HUGGING_FACE_KEY
- You must pass a token with write access to the gated repository. To define a token go to your setting page in hugging face: https://huggingface.co/settings/tokensContains Hugging Face API access token
- Used for the preliminary detection when validating the content contains harmful anti-trans content

### Development ###

# Getting google auth token for local tests
How you get your auth token with email, go to:
https://developers.google.com/oauthplayground/
in the 'input your own scopes' field input: https://www.googleapis.com/auth/userinfo.email
Login into any gmail you have
Press the: "Exchange authorization code for tokens" button
copy the entirety of 'id_token' field start with 'ey'
In the api request add it as the bearer token

# Running on windows
uvicorn transparency_service.app_server:transparency_app --host 0.0.0.0 --port 8000 --workers 4
